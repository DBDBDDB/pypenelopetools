sudo: false
language: python
addons:
  apt:
    packages:
    - gfortran
cache:
  directories:
  - $HOME/.pip-cache/
matrix:
  include:
  - python: '3.5'
    env: DEPLOY=yes
    os: linux
before_install:
- openssl aes-256-cbc -K $encrypted_8ed1e0a06d33_key -iv $encrypted_8ed1e0a06d33_iv
  -in fortran/penelope2014.zip.enc -out fortran/penelope2014.zip -d
- unzip fortran/penelope2014.zip
- cd fortran/penelope/fsource
- gfortran material.f -o material
install:
- pip install --cache-dir $HOME/.pip-cache --upgrade pip codecov
- pip install --cache-dir $HOME/.pip-cache --upgrade -r requirements.txt
- python setup.py develop
script:
- nosetests
after_success:
- codecov
notifications:
  email: false

